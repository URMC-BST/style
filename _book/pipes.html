<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Pipes | The tidyverse style guide</title>
  <meta name="description" content="4 Pipes | The tidyverse style guide" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Pipes | The tidyverse style guide" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="tidyverse/style" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Pipes | The tidyverse style guide" />
  
  
  

<meta name="author" content="Hadley Wickham" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="ggplot2.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An R Style Guide that uses =</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Analyses</b></span></li>
<li class="chapter" data-level="1" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>1</b> Files</a>
<ul>
<li class="chapter" data-level="1.1" data-path="files.html"><a href="files.html#names"><i class="fa fa-check"></i><b>1.1</b> Names</a></li>
<li class="chapter" data-level="1.2" data-path="files.html"><a href="files.html#organisation"><i class="fa fa-check"></i><b>1.2</b> Organisation</a></li>
<li class="chapter" data-level="1.3" data-path="files.html"><a href="files.html#internal-structure"><i class="fa fa-check"></i><b>1.3</b> Internal structure</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="syntax.html"><a href="syntax.html"><i class="fa fa-check"></i><b>2</b> Syntax</a>
<ul>
<li class="chapter" data-level="2.1" data-path="syntax.html"><a href="syntax.html#object-names"><i class="fa fa-check"></i><b>2.1</b> Object names</a></li>
<li class="chapter" data-level="2.2" data-path="syntax.html"><a href="syntax.html#spacing"><i class="fa fa-check"></i><b>2.2</b> Spacing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="syntax.html"><a href="syntax.html#commas"><i class="fa fa-check"></i><b>2.2.1</b> Commas</a></li>
<li class="chapter" data-level="2.2.2" data-path="syntax.html"><a href="syntax.html#parentheses"><i class="fa fa-check"></i><b>2.2.2</b> Parentheses</a></li>
<li class="chapter" data-level="2.2.3" data-path="syntax.html"><a href="syntax.html#embracing"><i class="fa fa-check"></i><b>2.2.3</b> Embracing</a></li>
<li class="chapter" data-level="2.2.4" data-path="syntax.html"><a href="syntax.html#infix-operators"><i class="fa fa-check"></i><b>2.2.4</b> Infix operators</a></li>
<li class="chapter" data-level="2.2.5" data-path="syntax.html"><a href="syntax.html#extra-spaces"><i class="fa fa-check"></i><b>2.2.5</b> Extra spaces</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="syntax.html"><a href="syntax.html#function-calls"><i class="fa fa-check"></i><b>2.3</b> Function calls</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="syntax.html"><a href="syntax.html#argument-names"><i class="fa fa-check"></i><b>2.3.1</b> Named arguments</a></li>
<li class="chapter" data-level="2.3.2" data-path="syntax.html"><a href="syntax.html#assignment"><i class="fa fa-check"></i><b>2.3.2</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="syntax.html"><a href="syntax.html#control-flow"><i class="fa fa-check"></i><b>2.4</b> Control flow</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="syntax.html"><a href="syntax.html#indenting"><i class="fa fa-check"></i><b>2.4.1</b> Code blocks</a></li>
<li class="chapter" data-level="2.4.2" data-path="syntax.html"><a href="syntax.html#inline-statements"><i class="fa fa-check"></i><b>2.4.2</b> Inline statements</a></li>
<li class="chapter" data-level="2.4.3" data-path="syntax.html"><a href="syntax.html#implicit-type-coercion"><i class="fa fa-check"></i><b>2.4.3</b> Implicit type coercion</a></li>
<li class="chapter" data-level="2.4.4" data-path="syntax.html"><a href="syntax.html#switch-statements"><i class="fa fa-check"></i><b>2.4.4</b> Switch statements</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="syntax.html"><a href="syntax.html#long-lines"><i class="fa fa-check"></i><b>2.5</b> Long lines</a></li>
<li class="chapter" data-level="2.6" data-path="syntax.html"><a href="syntax.html#semicolons"><i class="fa fa-check"></i><b>2.6</b> Semicolons</a></li>
<li class="chapter" data-level="2.7" data-path="syntax.html"><a href="syntax.html#assignment-1"><i class="fa fa-check"></i><b>2.7</b> Assignment</a></li>
<li class="chapter" data-level="2.8" data-path="syntax.html"><a href="syntax.html#data"><i class="fa fa-check"></i><b>2.8</b> Data</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="syntax.html"><a href="syntax.html#character-vectors"><i class="fa fa-check"></i><b>2.8.1</b> Character vectors</a></li>
<li class="chapter" data-level="2.8.2" data-path="syntax.html"><a href="syntax.html#logical-vectors"><i class="fa fa-check"></i><b>2.8.2</b> Logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="syntax.html"><a href="syntax.html#comments"><i class="fa fa-check"></i><b>2.9</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#naming"><i class="fa fa-check"></i><b>3.1</b> Naming</a></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#long-lines-1"><i class="fa fa-check"></i><b>3.2</b> Long lines</a></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#return"><i class="fa fa-check"></i><b>3.3</b> <code>return()</code></a></li>
<li class="chapter" data-level="3.4" data-path="functions.html"><a href="functions.html#comments-1"><i class="fa fa-check"></i><b>3.4</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>4</b> Pipes</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipes.html"><a href="pipes.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="pipes.html"><a href="pipes.html#whitespace"><i class="fa fa-check"></i><b>4.2</b> Whitespace</a></li>
<li class="chapter" data-level="4.3" data-path="pipes.html"><a href="pipes.html#long-lines-2"><i class="fa fa-check"></i><b>4.3</b> Long lines</a></li>
<li class="chapter" data-level="4.4" data-path="pipes.html"><a href="pipes.html#short-pipes"><i class="fa fa-check"></i><b>4.4</b> Short pipes</a></li>
<li class="chapter" data-level="4.5" data-path="pipes.html"><a href="pipes.html#no-arguments"><i class="fa fa-check"></i><b>4.5</b> No arguments</a></li>
<li class="chapter" data-level="4.6" data-path="pipes.html"><a href="pipes.html#assignment-2"><i class="fa fa-check"></i><b>4.6</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>5</b> ggplot2</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="ggplot2.html"><a href="ggplot2.html#whitespace-1"><i class="fa fa-check"></i><b>5.2</b> Whitespace</a></li>
<li class="chapter" data-level="5.3" data-path="ggplot2.html"><a href="ggplot2.html#long-lines-3"><i class="fa fa-check"></i><b>5.3</b> Long lines</a></li>
</ul></li>
<li class="part"><span><b>II Packages</b></span></li>
<li class="chapter" data-level="6" data-path="package-files.html"><a href="package-files.html"><i class="fa fa-check"></i><b>6</b> Files</a>
<ul>
<li class="chapter" data-level="6.1" data-path="package-files.html"><a href="package-files.html#names-1"><i class="fa fa-check"></i><b>6.1</b> Names</a></li>
<li class="chapter" data-level="6.2" data-path="package-files.html"><a href="package-files.html#organisation-1"><i class="fa fa-check"></i><b>6.2</b> Organisation</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>7</b> Documentation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="documentation.html"><a href="documentation.html#introduction-2"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="documentation.html"><a href="documentation.html#title-and-description"><i class="fa fa-check"></i><b>7.2</b> Title and description</a></li>
<li class="chapter" data-level="7.3" data-path="documentation.html"><a href="documentation.html#indents-and-line-breaks"><i class="fa fa-check"></i><b>7.3</b> Indents and line breaks</a></li>
<li class="chapter" data-level="7.4" data-path="documentation.html"><a href="documentation.html#documenting-parameters"><i class="fa fa-check"></i><b>7.4</b> Documenting parameters</a></li>
<li class="chapter" data-level="7.5" data-path="documentation.html"><a href="documentation.html#capitalization-and-full-stops"><i class="fa fa-check"></i><b>7.5</b> Capitalization and full stops</a></li>
<li class="chapter" data-level="7.6" data-path="documentation.html"><a href="documentation.html#cross-linking"><i class="fa fa-check"></i><b>7.6</b> Cross-linking</a></li>
<li class="chapter" data-level="7.7" data-path="documentation.html"><a href="documentation.html#r-code"><i class="fa fa-check"></i><b>7.7</b> R code</a></li>
<li class="chapter" data-level="7.8" data-path="documentation.html"><a href="documentation.html#internal-functions"><i class="fa fa-check"></i><b>7.8</b> Internal functions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>8</b> Tests</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tests.html"><a href="tests.html#organisation-2"><i class="fa fa-check"></i><b>8.1</b> Organisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="error-messages.html"><a href="error-messages.html"><i class="fa fa-check"></i><b>9</b> Error messages</a>
<ul>
<li class="chapter" data-level="9.1" data-path="error-messages.html"><a href="error-messages.html#problem-statement"><i class="fa fa-check"></i><b>9.1</b> Problem statement</a></li>
<li class="chapter" data-level="9.2" data-path="error-messages.html"><a href="error-messages.html#error-location"><i class="fa fa-check"></i><b>9.2</b> Error location</a></li>
<li class="chapter" data-level="9.3" data-path="error-messages.html"><a href="error-messages.html#hints"><i class="fa fa-check"></i><b>9.3</b> Hints</a></li>
<li class="chapter" data-level="9.4" data-path="error-messages.html"><a href="error-messages.html#punctuation"><i class="fa fa-check"></i><b>9.4</b> Punctuation</a></li>
<li class="chapter" data-level="9.5" data-path="error-messages.html"><a href="error-messages.html#before-and-after"><i class="fa fa-check"></i><b>9.5</b> Before and after</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="news.html"><a href="news.html"><i class="fa fa-check"></i><b>10</b> News</a>
<ul>
<li class="chapter" data-level="10.1" data-path="news.html"><a href="news.html#bullets"><i class="fa fa-check"></i><b>10.1</b> Bullets</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="news.html"><a href="news.html#general-style"><i class="fa fa-check"></i><b>10.1.1</b> General style</a></li>
<li class="chapter" data-level="10.1.2" data-path="news.html"><a href="news.html#acknowledgement"><i class="fa fa-check"></i><b>10.1.2</b> Acknowledgement</a></li>
<li class="chapter" data-level="10.1.3" data-path="news.html"><a href="news.html#code-style"><i class="fa fa-check"></i><b>10.1.3</b> Code style</a></li>
<li class="chapter" data-level="10.1.4" data-path="news.html"><a href="news.html#common-patterns"><i class="fa fa-check"></i><b>10.1.4</b> Common patterns</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="news.html"><a href="news.html#organisation-3"><i class="fa fa-check"></i><b>10.2</b> Organisation</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="news.html"><a href="news.html#development"><i class="fa fa-check"></i><b>10.2.1</b> Development</a></li>
<li class="chapter" data-level="10.2.2" data-path="news.html"><a href="news.html#news-release"><i class="fa fa-check"></i><b>10.2.2</b> Release</a></li>
<li class="chapter" data-level="10.2.3" data-path="news.html"><a href="news.html#breaking-changes"><i class="fa fa-check"></i><b>10.2.3</b> Breaking changes</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="news.html"><a href="news.html#blog-post"><i class="fa fa-check"></i><b>10.3</b> Blog post</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="gitgithub.html"><a href="gitgithub.html"><i class="fa fa-check"></i><b>11</b> Git/GitHub</a>
<ul>
<li class="chapter" data-level="11.1" data-path="gitgithub.html"><a href="gitgithub.html#commit-messages"><i class="fa fa-check"></i><b>11.1</b> Commit messages</a></li>
<li class="chapter" data-level="11.2" data-path="gitgithub.html"><a href="gitgithub.html#pull-requests"><i class="fa fa-check"></i><b>11.2</b> Pull requests</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The tidyverse style guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pipes" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Pipes</h1>
<div id="introduction" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>Use <code>%&gt;%</code> to emphasise a sequence of actions, rather than the object that the actions are being performed on.</p>
<p>Avoid using the pipe when:</p>
<ul>
<li><p>You need to manipulate more than one object at a time. Reserve pipes for a
sequence of steps applied to one primary object.</p></li>
<li><p>There are meaningful intermediate objects that could be given
informative names.</p></li>
</ul>
</div>
<div id="whitespace" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Whitespace</h2>
<p><code>%&gt;%</code> should always have a space before it, and should usually be followed by a new line. After the first step, each line should be indented by two spaces. This structure makes it easier to add new steps (or rearrange existing steps) and harder to overlook a step.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="pipes.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb39-2"><a href="pipes.html#cb39-2" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="pipes.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="pipes.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_if</span>(is.numeric, mean) <span class="sc">%&gt;%</span></span>
<span id="cb39-5"><a href="pipes.html#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="pipes.html#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="pipes.html#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(value)</span>
<span id="cb39-8"><a href="pipes.html#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="pipes.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb39-10"><a href="pipes.html#cb39-10" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span> <span class="fu">summarize_all</span>(mean) <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="pipes.html#cb39-11" aria-hidden="true" tabindex="-1"></a>ungroup <span class="sc">%&gt;%</span> <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb39-12"><a href="pipes.html#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(value)</span></code></pre></div>
</div>
<div id="long-lines-2" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Long lines</h2>
<p>If the arguments to a function don’t all fit on one line, put each argument on
its own line and indent:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="pipes.html#cb40-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="pipes.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="pipes.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb40-4"><a href="pipes.html#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sepal.Length =</span> <span class="fu">mean</span>(Sepal.Length),</span>
<span id="cb40-5"><a href="pipes.html#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sepal.Width =</span> <span class="fu">mean</span>(Sepal.Width),</span>
<span id="cb40-6"><a href="pipes.html#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Species =</span> <span class="fu">n_distinct</span>(Species)</span>
<span id="cb40-7"><a href="pipes.html#cb40-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="short-pipes" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Short pipes</h2>
<p>A one-step pipe can stay on one line, but unless you plan to expand it later on, you should consider rewriting it to a regular function call.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="pipes.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb41-2"><a href="pipes.html#cb41-2" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Species)</span>
<span id="cb41-3"><a href="pipes.html#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="pipes.html#cb41-4" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb41-5"><a href="pipes.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Species)</span>
<span id="cb41-6"><a href="pipes.html#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="pipes.html#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(iris, Species)</span></code></pre></div>
<p>Sometimes it’s useful to include a short pipe as an argument to a function in a
longer pipe. Carefully consider whether the code is more readable with a short
inline pipe (which doesn’t require a lookup elsewhere) or if it’s better to move
the code outside the pipe and give it an evocative name.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="pipes.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb42-2"><a href="pipes.html#cb42-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="pipes.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(a, b, w) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="pipes.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(y <span class="sc">%&gt;%</span> <span class="fu">select</span>(a, b, v), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</span>
<span id="cb42-5"><a href="pipes.html#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="pipes.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Better</span></span>
<span id="cb42-7"><a href="pipes.html#cb42-7" aria-hidden="true" tabindex="-1"></a>x_join <span class="ot">=</span> x <span class="sc">%&gt;%</span> <span class="fu">select</span>(a, b, w)</span>
<span id="cb42-8"><a href="pipes.html#cb42-8" aria-hidden="true" tabindex="-1"></a>y_join <span class="ot">=</span> y <span class="sc">%&gt;%</span> <span class="fu">select</span>(a, b, v)</span>
<span id="cb42-9"><a href="pipes.html#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(x_join, y_join, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</span></code></pre></div>
</div>
<div id="no-arguments" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> No arguments</h2>
<p>magrittr allows you to omit <code>()</code> on functions that don’t have arguments. Avoid this feature.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="pipes.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb43-2"><a href="pipes.html#cb43-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="pipes.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="pipes.html#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span>
<span id="cb43-5"><a href="pipes.html#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="pipes.html#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb43-7"><a href="pipes.html#cb43-7" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="pipes.html#cb43-8" aria-hidden="true" tabindex="-1"></a>  unique <span class="sc">%&gt;%</span></span>
<span id="cb43-9"><a href="pipes.html#cb43-9" aria-hidden="true" tabindex="-1"></a>  sort</span></code></pre></div>
</div>
<div id="assignment-2" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Assignment</h2>
<p>There are three acceptable forms of assignment:</p>
<ul>
<li><p>Variable name and assignment on separate lines:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="pipes.html#cb44-1" aria-hidden="true" tabindex="-1"></a>iris_long <span class="ot">=</span></span>
<span id="cb44-2"><a href="pipes.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  iris <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="pipes.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="pipes.html#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>value)</span></code></pre></div></li>
<li><p>Variable name and assignment on the same line:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="pipes.html#cb45-1" aria-hidden="true" tabindex="-1"></a>iris_long <span class="ot">=</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="pipes.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(measure, value, <span class="sc">-</span>Species) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="pipes.html#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>value)</span></code></pre></div></li>
</ul>
<p>The magrittr package provides the <code>%&lt;&gt;%</code> operator as a shortcut for modifying an object in place. Avoid this operator.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="pipes.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good</span></span>
<span id="cb46-2"><a href="pipes.html#cb46-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> x <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="pipes.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="pipes.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span>
<span id="cb46-5"><a href="pipes.html#cb46-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-6"><a href="pipes.html#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad</span></span>
<span id="cb46-7"><a href="pipes.html#cb46-7" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&lt;&gt;%</span></span>
<span id="cb46-8"><a href="pipes.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb46-9"><a href="pipes.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ggplot2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/URMC-BST/style/edit/master/pipes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
